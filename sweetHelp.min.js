!function(){function t(t){}function e(t){n(),m.overlay.style.display="block",t.antes&&"function"==typeof t.antes&&t.antes();var e=t.elemento;if(!e||"string"!=typeof e&&!(e instanceof HTMLElement))throw'A propriedade "elemento" no '+(p.item.indice+1)+"º passo de ajuda do tópico "+p.topico.id+" deve ser um seletor css (string) ou um HTMLElement, que indique qual o elemento deve entrar em foco";if(e=document.querySelector(e),!e)throw'O elemento "'+t.elemento+'" não foi encontrado';a(e),m.hl=e,p.item.inicio=0==p.item.indice,p.item["final"]=t["final"]||!t.proximo&&p.item.indice+1==p.topico.lista.length,p.item.helpStep=t,l()}function o(t){do u++;while(i(u,t)>-1);return u}function i(t,e){return e.findIndex(function(e){return e.id===t})}function n(){return p.inicializado?void r():(document.body.innerHTML+='<div id="swhe"><div id="ol" style="display: none"><div id="close" onclick="swhe.fechar()"></div><div id="text" style="left: 0; top: 0;"><div id="content"></div><div id="buttons"><span id="ant" onclick="swhe.anterior()" class="button">&#9666; Anterior</span><span id="prox" onclick="swhe.proximo()" class="button">Próximo &#9656;</span> </div></div><div id="arrow" style="left: 0; top: 0;"></div></div></div>',m={overlay:document.querySelector("#swhe #ol"),textBox:document.querySelector("#swhe #text"),textContent:document.querySelector("#swhe #content"),btnAnt:document.querySelector("#swhe #ant"),btnProx:document.querySelector("#swhe #prox"),arrow:document.querySelector("#swhe #arrow")},void(inicializado=!0))}function r(){var t;if(m.overlay.offsetParent||(t=m.overlay),m.textBox.offsetParent||(t=m.textBox),m.textContent.offsetParent||(t=m.textContent),m.btnAnt.offsetParent||(t=m.btnAnt),m.btnProx.offsetParent||(t=m.btnProx),m.arrow.offsetParent||(t=m.arrow),t&&t.style&&"none"==t.style.display&&(t.style.display="",!t.offsetParent)){var e=document.getElementById("swhe");e&&e.parentNode&&e.parentNode.removeChild(e),p.inicializado=!1,n()}}function a(t){function e(t,o,i){if(null!=i&&"HTML"!=i.nodeName){if(i.scrollWidth>i.clientWidth){var n=t.offsetLeft-o.left-i.offsetLeft,r=i.scrollWidth-i.clientWidth;i.scrollLeft=n>r?r:n,o.left+=i.scrollLeft}if(i.scrollHeight>i.clientHeight){var n=t.offsetTop-o.top-i.offsetTop,r=i.scrollHeight-i.clientHeight;i.scrollTop=n>r?r:n,o.top+=i.scrollTop}e(t,o,i.parentNode)}}if(!t.offsetParent)throw"O elemento a entrar em foco e os elementos pais deste devem estar visíveis";var o=window.getComputedStyle(t,null).getPropertyValue("position");if("static"==o)throw'O elemento a entrar em foco não pode ter a propriedade de estilo "position" com o valor "static"';p.zIndex=t.style.zIndex,t.style.zIndex="1052","absolute"==o?e(t,{left:0,top:0},document.body):e(t,{left:0,top:0},t.parentNode)}function l(){function t(){return vertical?medidasTB.width+medidasSeta.width+i.left<=window.innerWidth?!0:!1:medidasTB.height+medidasSeta.height+i.top<=window.innerHeight?!0:!1}function e(t){return t.toString()+"px"}var o=p.item.helpStep;m.textContent.innerText=o.texto;var i=m.hl.getBoundingClientRect();medidasSeta={},vertical="top"==o.posicao||"bottom"==o.posicao,medidasTB=m.textBox.getBoundingClientRect(),o.btnAnt===!1||p.item.inicio?m.btnAnt.style.display="none":m.btnAnt.style.display="",o.btnProx===!1||o.$valid===!1?m.btnProx.style.display="none":(m.btnProx.style.display="",p.item["final"]?m.btnProx.innerText="OK "+String.fromCharCode(10003):m.btnProx.innerText="Próximo "+String.fromCharCode(9656)),o.seta===!1?m.arrow.style.display="none":m.arrow.style.display="",o.seta!==!1?vertical?(medidasSeta.width=m.arrow.offsetWidth+10,medidasSeta.height=m.arrow.offsetHeight+5):(medidasSeta.width=m.arrow.offsetWidth+5,medidasSeta.height=m.arrow.offsetHeight+10):(medidasSeta.width=0,medidasSeta.height=0);var n=null!=o.start||void 0!=o.start?o.start:t();switch(o.posicao){case"top":m.arrow.style.top=e(i.top-medidasSeta.height),m.textBox.style.top=e(i.top-medidasTB.height-5),n?(m.arrow.className="ts",m.arrow.style.left=e(i.left),m.textBox.style.left=e(i.left+medidasSeta.width)):(m.arrow.className="te",m.arrow.style.left=e(i.right-m.arrow.offsetWidth),m.textBox.style.left=e(i.right-medidasSeta.width-medidasTB.width));break;case"right":m.arrow.style.left=e(i.right+5),m.textBox.style.left=e(i.right+5),n?(m.arrow.className="rs",m.arrow.style.top=e(i.top),m.textBox.style.top=e(i.top+medidasSeta.height)):(m.arrow.className="re",m.arrow.style.top=e(i.bottom-m.arrow.offsetHeight),m.textBox.style.top=e(i.bottom-medidasSeta.height-medidasTB.height));break;case"bottom":m.arrow.style.top=e(i.bottom+5),m.textBox.style.top=e(i.bottom+5),n?(m.arrow.className="bs",m.arrow.style.left=e(i.left),m.textBox.style.left=e(i.left+medidasSeta.width)):(m.arrow.className="be",m.arrow.style.left=e(i.right-m.arrow.offsetWidth),m.textBox.style.left=e(i.right-medidasSeta.width-medidasTB.width));break;case"left":m.arrow.style.left=e(i.left-medidasSeta.width),m.textBox.style.left=e(i.left-medidasTB.width-5),n?(m.arrow.className="ls",m.arrow.style.top=e(i.top),m.textBox.style.top=e(i.top+medidasSeta.height)):(m.arrow.className="le",m.arrow.style.top=e(i.bottom-m.arrow.offsetHeight),m.textBox.style.top=e(i.bottom-medidasSeta.height-medidasTB.height));break;default:throw"Posição "+o.posicao+' inválida. Use "top", "right", "bottom" ou "left".'}}function s(){p.item.helpStep&&p.item.helpStep.depois&&"function"==typeof p.item.helpStep.depois&&p.item.helpStep.depois()}function d(t){m.btnProx.style.display=t?"":"none"}function c(t,e){var o={};for(prop in t)o[prop]={value:t[prop],writable:!0,enumerable:!0,configurable:!0};return Object.create(e,o)}function f(t,e,o){if("[object Array]"!==Object.prototype.toString.call(e)||e.length<1)throw"A lista de passos de ajuda deve ser um vetor de objetos não vazio.";if(i(t,h)>-1)throw"O tópico de ajuda deve ter uma identificação única.";if(o){var n={};if(o.elemento&&(n.elemento=o.elemento),o.posicao&&(n.posicao=o.posicao),void 0!=o.seta&&(n.seta=o.seta),void 0!=o.start&&(n.start=o.start),void 0!=o.btnAnt&&(n.btnAnt=o.btnAnt),void 0!=o.btnProx&&(n.btnProx=o.btnProx),o.antes&&(n.antes=o.antes),o.depois&&(n.depois=o.depois),Object.keys(n).length>0)for(var r=0;r<e.length;r++)e[r]=c(e[r],n);this.defaults=n}this.id=t,this.lista=e}var p={exibindo:!1,inicializado:!1,topico:null,historico:[],item:{helpStep:null,indice:null,inicio:null,"final":null}},h=[],u=-9007199254740991,m={overlay:null,hl:null,textBox:null,textContent:null,btnAnt:null,btnProx:null,arrow:null};t.add=function(t,e,i){(null==e||void 0==e)&&(e=o(h));var n=new f(e,t,i);return h.push(n),n},t.get=function(t){if(null!=t&&void 0!=t){var e=i(t,h);return e>-1?h[e]:null}return h},t.remove=function(t){if(null!=t&&void 0!=t){var e=i(t,h);if(!(e>-1))return!1;h.splice(e,1)}else h=[];return!0},t.mostrar=function(o){if(p.exibindo)throw"Já há um tópico de ajuda sendo exibido";p.exibindo=!0;var n;if(!(o instanceof f)){if(n=i(o,h),0>n)throw"Tópico de ajuda não encontrado ou não cadastrado.";o=h[n]}try{p.topico=o,p.item.indice=0,p.historico=[],e(o.lista[0])}catch(r){throw t.fechar(),r}},t.fechar=function(){p.exibindo=!1,m.hl&&m.hl.style&&(m.hl.style.zIndex=p.zIndex),m.overlay&&m.overlay.style&&(m.overlay.style.display="none"),s()},t.proximo=function(){if(!p.exibindo)return!1;if(p.item["final"])return t.fechar(),!0;var o,i=p.item.helpStep;if(void 0!=i.proximo&&null!=i.proximo){if(o="function"==typeof i.proximo?i.proximo():i.proximo,0>o)throw"Passo de ajuda "+o+" não encontrado no tópico "+p.topico.id+"."}else o=p.item.indice+1;return p.historico.push(p.item),s(),p.item={indice:o},e(p.topico.lista[o]),!0},t.anterior=function(){return p.item.inicio?!1:(s(),p.item=p.historico.pop(),e(p.item.helpStep),!0)},f.prototype.add=function(t,e){return this.defaults&&Object.keys(proto).length>0&&(t=c(t,this.defaults)),null!=e&&void 0!=e?this.lista.splice(e,0,t):this.lista.push(t),t},f.prototype.get=function(t){return this.lista[t]},f.prototype.remove=function(t){this.lista.splice(t,1)},f.prototype.validacao=function(t){var e=this.lista[t];return e.$valid=!1,function(t){t===!1?e.$valid=!1:e.$valid=!0,d(t)}},window.sweetHelp=window.swhe=t}();